<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link rel="stylesheet" href="css/plans.css" />
		<link rel="stylesheet" href="css/cupertino/jquery-ui.min.css" />
		<link id="executeService" href="execute" />
		<link id="repositoryService" href="repository" />
		<link id="workflowRenderer" href="wfrender" />
		<script src="js/jquery-1.9.1.js"></script>
		<script src="js/jquery-ui-1.10.3.custom.js"></script>
		<script src="js/jquery.dataTables.js"></script>
        <script type="text/javascript" src="js/plans.js"></script>
        <script>
	     	// init the site by requesting the plan overview from the SCAPE repo
	        $(document).ready(function() {
	        	createPlanOverview();
	        	$('#plan_btn').click(function () {
        			startUpload();
	        	});
	        	$('#plan_id').focus(function() {
	        		if ($('#plan_id').val() === 'Generated UUID') {
	        			$('#plan_id').val('');
	        		}
	        		$('#plan_id').removeClass('field_inactive');
	        		$('#plan_id').addClass('field_active');
	        	});
	        	$('#plan_id').blur(function() {
	        		$('#plan_id').removeClass('field_active');
	        		$('#plan_id').addClass('field_inactive');
	        		if ($('#plan_id').val().length === 0) {
	        			$('#plan_id').val('Generated UUID');
	        		}
	        	});
	        });        
        </script>
        <title>Plan Management</title>
    </head>
    <body>
    	<div id="container">
	    	<div id="header">
	    		<div id="logo">
	    			<a href="http://www.scape-project.eu/" title="SCAPE">
	    				<img src="images/scape_logo.png" alt="SCAPE" title="SCAPE" border="0" width="292" height="177">
	    			</a>
	    		</div>
		    	<div id="menu">
		    		<nav>
			    		<ul id="menu" class="menu">
			    			<li id="menu_item_1" class="menuitem"><a href="#overview">Overview</a></li>
			    		</ul>
		    		</nav>
		    	</div>
	    	</div>
	    	<div id="data">
	    		<div id="left_col">
		    		<p id ="recordcount"></p>
		    		<table id="data_plan">
					    <thead>
					        <tr>
					            <th>Plan ID</th>
					            <th>Plan Title</th>
					            <th>Lifecycle State</th>
					            <th>Actions</th>
					        </tr>
					    </thead>
					    <tbody>
					        <tr>
					            <td></td>
					            <td></td>
					            <td></td>
					            <td></td>
					        </tr>
					    </tbody>
					</table>
				</div>
				<div id="right_col">
		    		<div class="action">
		    			<h3 id="upload_title">Update/Upload Plan</h3>
						<label id="plan_id_label" for="plan_id">Plan ID:</label><br/>
						<input id="plan_id" class="field_inactive" name="planId" type="text" value="Generated UUID" title="The Id of the Plan. If left empty a generated UUID will be used. If a plan with the given ID exists the existing record will be updated."/><p id="plan_id_warn">Plan ID can not be empty</p><br/>
						<input id="plan_data" name="planData" type="file" /><br/>
						<input id="plan_btn" type="button" value="Upload/Update"/>
					</div>
				</div>
				<iframe id="upload_target" name="upload_target" src="#" style="width:0;height:0;border:0px solid #fff;"></iframe>                 
	    	</div>
    	</div>
    </body>
</html>
